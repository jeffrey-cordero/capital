{
   "Version": "2012-10-17",
   "Statement": [
      {
         "Sid": "EC2Permissions",
         "Effect": "Allow",
         "Action": [
            "ec2:DescribeVpcs",
            "ec2:DescribeVpcAttribute",
            "ec2:DescribeImages",
            "ec2:DescribeInstances",
            "ec2:DescribeInstanceTypes",
            "ec2:DescribeInstanceAttribute",
            "ec2:DescribeKeyPairs",
            "ec2:DescribeSecurityGroups",
            "ec2:DescribeSubnets",
            "ec2:DescribeRouteTables",
            "ec2:DescribeInternetGateways",
            "ec2:DescribeVolumes",
            "ec2:DescribeNetworkInterfaces",
            "ec2:DescribeAccountAttributes",
            "ec2:DescribeAvailabilityZones",
            "ec2:RunInstances",
            "ec2:StartInstances",
            "ec2:StopInstances",
            "ec2:TerminateInstances",
            "ec2:ModifyInstanceAttribute",
            "ec2:ModifyVpcAttribute",
            "ec2:ModifySubnetAttribute",
            "ec2:CreateVpc",
            "ec2:DeleteVpc",
            "ec2:CreateSubnet",
            "ec2:DeleteSubnet",
            "ec2:CreateRouteTable",
            "ec2:DeleteRouteTable",
            "ec2:CreateRoute",
            "ec2:DeleteRoute",
            "ec2:AssociateRouteTable",
            "ec2:DisassociateRouteTable",
            "ec2:CreateInternetGateway",
            "ec2:DeleteInternetGateway",
            "ec2:AttachInternetGateway",
            "ec2:DetachInternetGateway",
            "ec2:CreateTags",
            "ec2:DescribeTags",
            "ec2:DeleteTags",
            "ec2:DescribeInstanceCreditSpecifications",
            "ec2:CreateSecurityGroup",
            "ec2:DeleteSecurityGroup",
            "ec2:AuthorizeSecurityGroupIngress",
            "ec2:AuthorizeSecurityGroupEgress",
            "ec2:RevokeSecurityGroupIngress",
            "ec2:RevokeSecurityGroupEgress"
         ],
         "Resource": "*"
      },
      {
         "Sid": "IAMRolePermissions",
         "Effect": "Allow",
         "Action": [
            "iam:CreateRole",
            "iam:DeleteRole",
            "iam:GetRole",
            "iam:ListRolePolicies",
            "iam:ListAttachedRolePolicies",
            "iam:ListInstanceProfilesForRole",
            "iam:AttachRolePolicy",
            "iam:DetachRolePolicy",
            "iam:PutRolePolicy",
            "iam:GetRolePolicy",
            "iam:DeleteRolePolicy",
            "iam:TagRole",
            "iam:UntagRole",
            "iam:PassRole"
         ],
         "Resource": "arn:aws:iam::*:role/capital-*"
      },
      {
         "Sid": "IAMInstanceProfilePermissions",
         "Effect": "Allow",
         "Action": [
            "iam:CreateInstanceProfile",
            "iam:DeleteInstanceProfile",
            "iam:GetInstanceProfile",
            "iam:AddRoleToInstanceProfile",
            "iam:RemoveRoleFromInstanceProfile"
         ],
         "Resource": "arn:aws:iam::*:instance-profile/capital-*"
      },
      {
         "Sid": "SSMSessionManagerPermissions",
         "Effect": "Allow",
         "Action": [
            "ssm:StartSession",
            "ssm:TerminateSession",
            "ssm:ResumeSession",
            "ssm:DescribeSessions",
            "ssm:GetConnectionStatus"
         ],
         "Resource": [
            "arn:aws:ec2:*:*:instance/*",
            "arn:aws:ssm:*:*:document/SSM-SessionManagerRunShell",
            "arn:aws:ssm:*:*:session/*"
         ]
      },
      {
         "Sid": "SecretsManagerPermissions",
         "Effect": "Allow",
         "Action": [
            "secretsmanager:GetSecretValue",
            "secretsmanager:PutSecretValue",
            "secretsmanager:DescribeSecret",
            "secretsmanager:ListSecrets"
         ],
         "Resource": "arn:aws:secretsmanager:*:*:secret:prod/capital/*"
      },
      {
         "Sid": "RDSPermissions",
         "Effect": "Allow",
         "Action": [
            "rds:CreateDBInstance",
            "rds:DeleteDBInstance",
            "rds:DescribeDBInstances",
            "rds:ModifyDBInstance",
            "rds:CreateDBSubnetGroup",
            "rds:DeleteDBSubnetGroup",
            "rds:DescribeDBSubnetGroups",
            "rds:ListTagsForResource",
            "rds:AddTagsToResource",
            "rds:RemoveTagsFromResource"
         ],
         "Resource": "*"
      },
      {
         "Sid": "ElastiCachePermissions",
         "Effect": "Allow",
         "Action": [
            "elasticache:CreateCacheCluster",
            "elasticache:DeleteCacheCluster",
            "elasticache:DescribeCacheClusters",
            "elasticache:CreateCacheSubnetGroup",
            "elasticache:DeleteCacheSubnetGroup",
            "elasticache:DescribeCacheSubnetGroups",
            "elasticache:ListTagsForResource",
            "elasticache:AddTagsToResource",
            "elasticache:RemoveTagsFromResource"
         ],
         "Resource": "*"
      },
      {
         "Sid": "S3Permissions",
         "Effect": "Allow",
         "Action": [
            "s3:CreateBucket",
            "s3:DeleteBucket",
            "s3:ListBucket",
            "s3:GetBucketLocation",
            "s3:GetBucketPolicy",
            "s3:PutBucketPolicy",
            "s3:DeleteBucketPolicy",
            "s3:GetBucketVersioning",
            "s3:PutBucketVersioning",
            "s3:GetBucketPublicAccessBlock",
            "s3:PutBucketPublicAccessBlock",
            "s3:PutObject",
            "s3:GetObject",
            "s3:DeleteObject",
            "s3:ListBucketVersions",
            "s3:GetBucketAcl",
            "s3:PutBucketAcl",
            "s3:GetBucketCORS",
            "s3:PutBucketCORS",
            "s3:GetBucketWebsite",
            "s3:PutBucketWebsite",
            "s3:DeleteBucketWebsite",
            "s3:GetBucketTagging",
            "s3:PutBucketTagging",
            "s3:GetBucketOwnershipControls",
            "s3:PutBucketOwnershipControls",
            "s3:GetEncryptionConfiguration",
            "s3:PutEncryptionConfiguration",
            "s3:GetAccelerateConfiguration",
            "s3:GetBucketRequestPayment",
            "s3:GetLifecycleConfiguration",
            "s3:PutLifecycleConfiguration",
            "s3:GetReplicationConfiguration",
            "s3:GetBucketLogging",
            "s3:PutBucketLogging",
            "s3:GetBucketNotification",
            "s3:PutBucketNotification",
            "s3:GetBucketObjectLockConfiguration",
            "s3:GetObjectVersion",
            "s3:DeleteObjectVersion"
         ],
         "Resource": [
            "arn:aws:s3:::capital-*",
            "arn:aws:s3:::capital-*/*"
         ]
      },
      {
         "Sid": "CloudFrontPermissions",
         "Effect": "Allow",
         "Action": [
            "cloudfront:CreateDistribution",
            "cloudfront:DeleteDistribution",
            "cloudfront:GetDistribution",
            "cloudfront:GetDistributionConfig",
            "cloudfront:UpdateDistribution",
            "cloudfront:ListDistributions",
            "cloudfront:TagResource",
            "cloudfront:UntagResource",
            "cloudfront:ListTagsForResource",
            "cloudfront:CreateOriginAccessControl",
            "cloudfront:DeleteOriginAccessControl",
            "cloudfront:GetOriginAccessControl",
            "cloudfront:UpdateOriginAccessControl",
            "cloudfront:ListOriginAccessControls",
            "cloudfront:CreateInvalidation"
         ],
         "Resource": "*"
      }
   ]
}